{
  "$schema": "https://vega.github.io/schema/vega-lite/v5.json",
  "title": {
    "text": "US GDP Growth: Policy Impacts by Quarter",
    "subtitle": ["Percentage point impact on quarter-over-quarter annualized GDP growth", "Source: Goldman Sachs Research. As of December 18, 2025."],
    "anchor": "start",
    "fontSize": 16,
    "fontWeight": "bold",
    "subtitleFontSize": 11,
    "subtitleColor": "#666",
    "subtitlePadding": 8
  },
  "width": "container",
  "height": "container",
  "autosize": {"type": "fit", "contains": "padding"},
  "background": "white",
  "data": {
    "values": [
      {"order": 1, "quarter": "2025 Q1", "series": "Financial conditions", "value": 0.14},
      {"order": 1, "quarter": "2025 Q1", "series": "Fiscal impulse", "value": 0.0},
      {"order": 1, "quarter": "2025 Q1", "series": "Tariff effect", "value": -0.04},
      {"order": 1, "quarter": "2025 Q1", "series": "Immigration effect", "value": -0.1},

      {"order": 2, "quarter": "2025 Q2", "series": "Financial conditions", "value": 0.1},
      {"order": 2, "quarter": "2025 Q2", "series": "Fiscal impulse", "value": 0.0},
      {"order": 2, "quarter": "2025 Q2", "series": "Tariff effect", "value": -0.28},
      {"order": 2, "quarter": "2025 Q2", "series": "Immigration effect", "value": -0.12},

      {"order": 3, "quarter": "2025 Q3", "series": "Financial conditions", "value": 0.2},
      {"order": 3, "quarter": "2025 Q3", "series": "Tariff effect", "value": -0.5},
      {"order": 3, "quarter": "2025 Q3", "series": "Immigration effect", "value": -0.1},
      {"order": 3, "quarter": "2025 Q3", "series": "Fiscal impulse", "value": -0.05},

      {"order": 4, "quarter": "2025 Q4", "series": "Financial conditions", "value": 0.35},
      {"order": 4, "quarter": "2025 Q4", "series": "Fiscal impulse", "value": 0.15},
      {"order": 4, "quarter": "2025 Q4", "series": "Tariff effect", "value": -0.6},
      {"order": 4, "quarter": "2025 Q4", "series": "Immigration effect", "value": -0.12},

      {"order": 5, "quarter": "2026 Q1", "series": "Financial conditions", "value": 0.35},
      {"order": 5, "quarter": "2026 Q1", "series": "Fiscal impulse", "value": 0.5},
      {"order": 5, "quarter": "2026 Q1", "series": "Tariff effect", "value": -0.55},
      {"order": 5, "quarter": "2026 Q1", "series": "Immigration effect", "value": -0.12},

      {"order": 6, "quarter": "2026 Q2", "series": "Financial conditions", "value": 0.2},
      {"order": 6, "quarter": "2026 Q2", "series": "Fiscal impulse", "value": 0.72},
      {"order": 6, "quarter": "2026 Q2", "series": "Tariff effect", "value": -0.4},
      {"order": 6, "quarter": "2026 Q2", "series": "Immigration effect", "value": -0.12},

      {"order": 7, "quarter": "2026 Q3", "series": "Financial conditions", "value": 0.08},
      {"order": 7, "quarter": "2026 Q3", "series": "Fiscal impulse", "value": 0.3},
      {"order": 7, "quarter": "2026 Q3", "series": "Tariff effect", "value": -0.27},
      {"order": 7, "quarter": "2026 Q3", "series": "Immigration effect", "value": -0.12},

      {"order": 8, "quarter": "2026 Q4", "series": "Financial conditions", "value": 0.02},
      {"order": 8, "quarter": "2026 Q4", "series": "Fiscal impulse", "value": 0.0},
      {"order": 8, "quarter": "2026 Q4", "series": "Tariff effect", "value": -0.1},
      {"order": 8, "quarter": "2026 Q4", "series": "Immigration effect", "value": -0.12},

      {"order": 9, "quarter": "2027 Q1", "series": "Financial conditions", "value": 0.0},
      {"order": 9, "quarter": "2027 Q1", "series": "Fiscal impulse", "value": -0.25},
      {"order": 9, "quarter": "2027 Q1", "series": "Tariff effect", "value": 0.0},
      {"order": 9, "quarter": "2027 Q1", "series": "Immigration effect", "value": -0.12},

      {"order": 10, "quarter": "2027 Q2", "series": "Financial conditions", "value": -0.02},
      {"order": 10, "quarter": "2027 Q2", "series": "Fiscal impulse", "value": -0.3},
      {"order": 10, "quarter": "2027 Q2", "series": "Tariff effect", "value": 0.0},
      {"order": 10, "quarter": "2027 Q2", "series": "Immigration effect", "value": -0.12}
    ]
  },
  "encoding": {
    "x": {
      "field": "quarter",
      "type": "ordinal",
      "sort": {"field": "order"},
      "axis": {
        "title": null,
        "labelAngle": 0,
        "labelFontSize": 10,
        "labelPadding": 10,
        "domain": true,
        "domainColor": "#333"
      }
    }
  },
  "layer": [
    {
      "params": [
        {
          "name": "highlight",
          "select": {
            "type": "point",
            "fields": ["series"],
            "on": "pointerover",
            "clear": "pointerout"
          }
        }
      ],
      "mark": {"type": "line", "strokeWidth": 2},
      "encoding": {
        "y": {
          "field": "value",
          "type": "quantitative",
          "axis": {
            "title": null,
            "grid": true,
            "gridColor": "#eee",
            "labelFontSize": 10
          },
          "scale": {"domain": [-1, 1]}
        },
        "color": {
          "condition": {
            "param": "highlight",
            "field": "series",
            "type": "nominal",
            "scale": {
              "domain": ["Tariff effect", "Immigration effect", "Fiscal impulse", "Financial conditions"],
              "range": ["#e15759", "#9c755f", "#59a14f", "#f28e2b"]
            },
            "legend": {
              "orient": "bottom",
              "direction": "horizontal",
              "title": null,
              "labelFontSize": 10,
              "symbolStrokeWidth": 2
            }
          },
          "value": "#ccc"
        },
        "opacity": {
          "condition": {"param": "highlight", "empty": false, "value": 1},
          "value": 0.4
        },
        "tooltip": [
          {"field": "series", "type": "nominal", "title": "Effect"},
          {"field": "quarter", "type": "ordinal", "title": "Quarter"},
          {"field": "value", "type": "quantitative", "title": "Impact (pp)", "format": ".2f"}
        ]
      }
    },
    {
      "mark": {"type": "point", "filled": true, "size": 40},
      "encoding": {
        "y": {"field": "value", "type": "quantitative"},
        "color": {
          "condition": {
            "param": "highlight",
            "field": "series",
            "type": "nominal",
            "scale": {
              "domain": ["Tariff effect", "Immigration effect", "Fiscal impulse", "Financial conditions"],
              "range": ["#e15759", "#9c755f", "#59a14f", "#f28e2b"]
            },
            "legend": null
          },
          "value": "#ccc"
        },
        "opacity": {
          "condition": {"param": "highlight", "empty": false, "value": 1},
          "value": 0.4
        }
      }
    },
    {
      "transform": [
        {"aggregate": [{"op": "sum", "field": "value", "as": "total"}], "groupby": ["quarter", "order"]}
      ],
      "mark": {"type": "line", "strokeWidth": 3, "color": "#4e79a7"},
      "encoding": {"y": {"field": "total", "type": "quantitative"}}
    },
    {
      "transform": [
        {"aggregate": [{"op": "sum", "field": "value", "as": "total"}], "groupby": ["quarter", "order"]}
      ],
      "mark": {"type": "point", "filled": true, "size": 60, "color": "#4e79a7"},
      "encoding": {
        "y": {"field": "total", "type": "quantitative"},
        "tooltip": [
          {"value": "Total"},
          {"field": "quarter", "type": "ordinal", "title": "Quarter"},
          {"field": "total", "type": "quantitative", "title": "Impact (pp)", "format": ".2f"}
        ]
      }
    },
    {
      "data": {"values": [{"series": "Total"}]},
      "mark": {"type": "point", "opacity": 0},
      "encoding": {
        "color": {
          "field": "series",
          "type": "nominal",
          "scale": {"domain": ["Total"], "range": ["#4e79a7"]},
          "legend": {
            "orient": "bottom",
            "direction": "horizontal",
            "title": null,
            "labelFontSize": 10,
            "symbolStrokeWidth": 3
          }
        }
      }
    }
  ],
  "config": {
    "view": {"stroke": null},
    "axis": {"labelFont": "sans-serif", "titleFont": "sans-serif"},
    "legend": {"offset": 10}
  }
}